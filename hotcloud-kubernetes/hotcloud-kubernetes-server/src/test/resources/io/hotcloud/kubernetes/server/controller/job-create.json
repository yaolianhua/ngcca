{
  "yaml": "apiVersion: batch/v1\nkind: Job\nmetadata:\n  name: kaniko\n  namespace: default\n  labels: {\n    \"k8s-app\": \"kaniko\"\n  }\nspec:\n  ttlSecondsAfterFinished: 600\n  backoffLimit: 3\n  activeDeadlineSeconds: 1800\n  template:\n    spec:\n      containers:\n      - name: kaniko\n        imagePullPolicy: IfNotPresent\n        image: gcr.io/kaniko-project/executor:latest\n        args:\n        - --dockerfile=/workspace/Dockerfile\n        - --verbosity=debug\n        - --context=dir://workspace\n        - --insecure=true\n        - --insecure-pull=true\n        - --insecure-registry=harbor.cloud2go.cn\n        - --destination=harbor.cloud2go.cn/cloudtogo/ubuntu:1.0\n        volumeMounts:\n        - name: kaniko-secret\n          mountPath: /kaniko/.docker\n        - name: dockerfile-storage\n          mountPath: /workspace\n      restartPolicy: Never\n      volumes:\n      - name: kaniko-secret\n        secret:\n          secretName: regcred\n          items:\n            - key: .dockerconfigjson\n              path: config.json\n      - name: dockerfile-storage\n        persistentVolumeClaim:\n            claimName: dockerfile-claim"
}