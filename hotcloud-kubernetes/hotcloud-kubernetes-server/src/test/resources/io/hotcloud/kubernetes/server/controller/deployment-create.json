{
  "yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    k8s-app: hotcloud\n  name: hotcloud\n  namespace: default\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      k8s-app: hotcloud\n  template:\n    metadata:\n      labels:\n        k8s-app: hotcloud\n    spec:\n      affinity:\n        nodeAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n            nodeSelectorTerms:\n              - matchExpressions:\n                  - key: node-role.kubernetes.io/master\n                    operator: Exists\n      containers:\n        - image: yaolianhua/hotcloud\n          imagePullPolicy: IfNotPresent\n          livenessProbe:\n            failureThreshold: 1\n            httpGet:\n              path: /livez\n              port: http\n            periodSeconds: 120\n            initialDelaySeconds: 180\n          name: hotcloud\n          ports:\n            - containerPort: 8080\n              name: http\n              protocol: TCP\n          readinessProbe:\n            failureThreshold: 1\n            httpGet:\n              path: /readyz\n              port: http\n            initialDelaySeconds: 120\n            periodSeconds: 60\n          resources:\n            requests:\n              cpu: 100m\n              memory: 128Mi\n            limits:\n              cpu: 200m\n              memory: 256Mi\n          securityContext:\n            privileged: true\n          volumeMounts:\n            - mountPath: /hotcloud/config\n              name: hotcloud-volume\n              readOnly: true\n            - mountPath: /root/.kube/config\n              name: kubeconfig\n              readOnly: true\n      tolerations:\n        - effect: NoSchedule\n          operator: Exists\n      volumes:\n        - configMap:\n            name: hotcloud-config\n            items:\n              - key: config\n                path: application.yml\n          name: hotcloud-volume\n        - hostPath:\n            path: /root/.kube/config\n          name: kubeconfig"
}